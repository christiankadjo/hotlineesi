<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>Hotline ESI</title>
    <script src="dist/phaser.js"></script>
    <style type="text/css">
    body{
        margin:0;
    }
    </style>
</head>
<body>
    <script>
        var config = {
            type: Phaser.Auto,
            width:800,
            height:600,
            physics:{
                default:'arcade',
                arcade: {

                }
            },
            scene:{
                preload:preload,
                create: create,
                update: update
            }
        };
        var game = new Phaser.Game(config);
        var cube;

        function preload()
        {
            this.load.image('floor', 'assets/floor.png');
            this.load.spritesheet('cube', 'assets/cube.png', {frameWidth:40, frameHeight:40});
        }

        function create()
        {
            this.add.image(400,300,'floor');
            cube = this.physics.add.sprite(400,300,'cube');
            cube.setCollideWorldBounds(true);
        }

        function update()
        {
            var cursors = this.input.keyboard.createCursorKeys();
            playerMovement(cursors);
        }

        function playerMovement(cursors)
        {
            if(cursors.left.isDown)
            {
                cube.setVelocityX(-160);
            }

            else if(cursors.right.isDown)
            {
                cube.setVelocityX(160);
            }

            else {
                cube.setVelocityX(0);
            } 
            
            
            if(cursors.up.isDown)
            {
                cube.setVelocityY(-160);
            }

            else if(cursors.down.isDown)
            {
                cube.setVelocityY(160);
            }

            else
            {
                cube.setVelocityY(0);
            }
        }
    </script>
</body>
</html>
